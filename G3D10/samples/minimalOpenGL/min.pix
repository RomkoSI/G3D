#version 410 // -*- c++ -*-

in vec3 _color;
in vec3 _normal;
in vec2 _texCoord;

uniform vec3 light;
uniform sampler2D colorTexture;

out vec4 pixelColor;

void main () {
    vec3 normal = normalize(_normal);
    vec3 material = texture(colorTexture, _texCoord).rgb;

    // Approximately gamma correct
    pixelColor.rgb = sqrt(material * (max(0.0, dot(normal, light)) * 0.7 + 0.3));
    pixelColor.a = 1.0;
}

